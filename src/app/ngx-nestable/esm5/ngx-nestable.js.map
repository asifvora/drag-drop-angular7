{
  "version": 3,
  "file": "ngx-nestable.js",
  "sources": [
    "ng://ngx-nestable/out/src/nestable.module.ts",
    "ng://ngx-nestable/out/src/nestable-expand-collapse-handle/nestable-expand-collapse.directive.ts",
    "ng://ngx-nestable/out/src/nestable-drag-handle/nestable-drag-handle.directive.ts",
    "ng://ngx-nestable/out/src/nestable.component.ts",
    "ng://ngx-nestable/out/src/nestable.constant.ts",
    "ng://ngx-nestable/out/src/nestable.helper.ts"
  ],
  "sourcesContent": [
    "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { NestableComponent } from './nestable.component';\nimport { NestableDragHandleDirective } from './nestable-drag-handle/nestable-drag-handle.directive';\n\nimport { NestableExpandCollapseDirective } from './nestable-expand-collapse-handle/nestable-expand-collapse.directive';\n@NgModule({\n    imports: [CommonModule],\n    declarations: [\n        NestableComponent,\n        NestableDragHandleDirective,\n        NestableExpandCollapseDirective\n    ],\n    exports: [\n        NestableComponent,\n        NestableDragHandleDirective,\n        NestableExpandCollapseDirective\n    ]\n})\nexport class NestableModule { }\n",
    "import { Directive, ElementRef, HostListener, Input } from '@angular/core';\nimport { EXPAND_COLLAPSE } from '../nestable.constant';\n\n@Directive({\n  selector: '[ngxNestableExpandCollapse]'\n})\nexport class NestableExpandCollapseDirective {\n  @Input() public ngxNestableExpandCollapse;\n\n  constructor(private _el: ElementRef) {}\n\n  @HostListener('mousedown', ['$event'])\n  public onMouseDown(event) {\n    event.stopPropagation();\n  }\n\n  @HostListener('click', ['$event'])\n  public onClick(event) {\n    this.ngxNestableExpandCollapse.item['$$expanded'] = !this.ngxNestableExpandCollapse.item['$$expanded'];\n    this._el.nativeElement.dispatchEvent(\n      new CustomEvent(EXPAND_COLLAPSE, {\n        bubbles: true,\n        detail: this.ngxNestableExpandCollapse\n      })\n    );\n  }\n}\n",
    "import {\n  Directive,\n  OnInit,\n  ElementRef,\n  HostListener,\n  Input,\n  Output\n} from '@angular/core';\n\nimport { REGISTER_HANDLE, DRAG_START } from '../nestable.constant';\n\n@Directive({\n  selector: '[ngxNestableDragHandle]'\n})\nexport class NestableDragHandleDirective implements OnInit {\n  @Input() public ngxNestableDragHandle;\n\n  @HostListener('mousedown', ['$event'])\n  public onMouseDown(event) {\n    const detail = {\n      param: this.ngxNestableDragHandle,\n      event: event\n    };\n    this._el.nativeElement.dispatchEvent(\n      new CustomEvent(DRAG_START, { bubbles: true, detail: detail })\n    );\n  }\n\n  constructor(private _el: ElementRef) {}\n\n  ngOnInit(): void {\n    this._el.nativeElement.dispatchEvent(\n      new CustomEvent(REGISTER_HANDLE, { bubbles: true, detail: this.ngxNestableDragHandle })\n    );\n  }\n}\n",
    "import {\n  Component,\n  OnInit,\n  Output,\n  Input,\n  EventEmitter,\n  ViewContainerRef,\n  Renderer2,\n  ElementRef,\n  ViewEncapsulation,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  OnDestroy,\n  NgZone\n} from '@angular/core';\n\nimport * as helper from './nestable.helper';\n\nimport {\n  defaultSettings,\n  mouse,\n  REGISTER_HANDLE,\n  DRAG_START,\n  EXPAND_COLLAPSE\n} from './nestable.constant';\nimport { NestableSettings } from './nestable.models';\n\nconst PX = 'px';\nconst hasPointerEvents = (function() {\n  const el = document.createElement('div'),\n    docEl = document.documentElement;\n\n  if (!('pointerEvents' in el.style)) {\n    return false;\n  }\n\n  el.style.pointerEvents = 'auto';\n  el.style.pointerEvents = 'x';\n  docEl.appendChild(el);\n  const supports =\n    window.getComputedStyle &&\n    window.getComputedStyle(el, '').pointerEvents === 'auto';\n  docEl.removeChild(el);\n  return !!supports;\n})();\n\n@Component({\n  selector: 'ngx-nestable',\n  template: `<ng-container *ngTemplateOutlet=\"nestableList; context:{nestable: list, depth: 0}\">\n</ng-container>\n\n<ng-template #nestableList let-nestable=\"nestable\" let-depth=\"depth\">\n  <ul [style.padding-left.px]=\"depth ? options.threshold : 0\"\n    [class]=\"options.listClass\">\n    <li [class]=\"options.itemClass\" [id]=\"item.$$id\" *ngFor=\"let item of nestable\">\n\n      <ng-container *ngTemplateOutlet=\"nestableItem; context:{nestable: nestable, item: item, depth: depth}\">\n      </ng-container>\n\n      <ng-container *ngIf=\"item.children && item.$$expanded\">\n        <ng-container *ngTemplateOutlet=\"nestableList; context:{nestable: item.children, depth: depth + 1}\">\n        </ng-container>\n      </ng-container>\n\n      <ul [class]=\"options.listClass\" [style.padding-left.px]=\"options.threshold\"></ul>\n    </li>\n  </ul>\n</ng-template>\n\n<ng-template #nestableItem let-parentList=\"nestable\" let-item=\"item\" let-depth=\"depth\">\n  <div class=\"nestable-item-container mat-list-item\" (mousedown)=\"dragStartFromItem($event, item, parentList)\">\n    <ng-container *ngTemplateOutlet=\"template; context:{$implicit: {item: item, parentList: parentList}, depth: depth}\">\n    </ng-container>\n\n    <div class=\"nestable-item-mask\"></div>\n  </div>\n</ng-template>\n`,\n  styles: [`@import url(https://fonts.googleapis.com/css?family=Roboto);ul .dd-placeholder{margin:5px 0;padding:0;min-height:30px;background:#f2fbff;border:1px dashed #b6bcbf;-webkit-box-sizing:border-box;box-sizing:border-box}ul li .nestable-item-mask{display:none;position:absolute;top:0;bottom:0;right:0;left:0;z-index:9998}ul li .nestable-expand-button{display:block;position:relative;cursor:pointer;float:left;width:25px;height:14px;padding:0;white-space:nowrap;overflow:hidden;border:0;background:0 0;font-size:18px;line-height:1;text-align:center;font-weight:700;outline:0}ul li .nestable-item-container{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,.87);min-height:32px;font-size:16px;font-family:Roboto,sans-serif;cursor:pointer;outline:0;margin-bottom:2px;padding-left:8px}ul li .nestable-item-container:hover{background:rgba(0,0,0,.04)}ol,ul{list-style:none}`],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class NestableComponent implements OnInit, OnDestroy {\n  @Output() public listChange = new EventEmitter();\n  @Output() public drop = new EventEmitter();\n  @Output() public drag = new EventEmitter();\n  @Output() public disclosure = new EventEmitter();\n\n  @Input() public template: ViewContainerRef;\n  @Input() public options = defaultSettings;\n  @Input() public disableDrag = false;\n  @Input()\n  public get list() {\n    return this._list;\n  }\n  public set list(list) {\n    this._list = list;\n    this._generateItemIds();\n  }\n\n  public dragRootEl = null;\n  public dragEl = null;\n  public dragModel = null;\n  public moving = false;\n\n  /**\n   * Dragged element contains children, and those children contain other children and so on...\n   * This property gives you the number of generations contained within the dragging item.\n   */\n  public dragDepth = 0;\n\n  /**\n   * The depth of dragging item relative to element root (ngx-nestable)\n   */\n  public relativeDepth = 0;\n\n  public hasNewRoot = false;\n  public pointEl = null;\n  public items = [];\n\n  private _componentActive = false;\n  private _mouse = Object.assign({}, mouse);\n  private _list = [];\n  // private _options = Object.assign({}, defaultSettings) as NestableSettings;\n  private _cancelMousemove: Function;\n  private _cancelMouseup: Function;\n  private _placeholder;\n  private _itemId = 0;\n  private _registerHandleDirective = false;\n  private _dragIndex;\n  private _parentDragId;\n  private _oldListLength: any;\n\n  constructor(\n    private ref: ChangeDetectorRef,\n    private renderer: Renderer2,\n    private el: ElementRef,\n    private zone: NgZone\n  ) {}\n\n  ngOnInit(): void {\n    // set/extend default options\n    this._componentActive = true;\n    const optionKeys = Object.keys(defaultSettings);\n    for (const key of optionKeys) {\n      if (typeof this.options[key] === 'undefined') {\n        this.options[key] = defaultSettings[key];\n      }\n    }\n\n    this._generateItemIds();\n    this._generateItemExpanded();\n    this._createHandleListener();\n  }\n\n  ngOnDestroy(): void {}\n\n  private _generateItemIds() {\n    helper._traverseChildren(this._list, item => {\n      item['$$id'] = this._itemId++;\n    });\n  }\n\n  private _generateItemExpanded() {\n    helper._traverseChildren(this._list, item => {\n      if (typeof item.expanded === 'undefined') {\n        item['$$expanded'] = true;\n      } else {\n        item['$$expanded'] = item.expanded;\n      }\n    });\n  }\n\n  private _createHandleListener() {\n    this.renderer.listen(this.el.nativeElement, REGISTER_HANDLE, () => {\n      this._registerHandleDirective = true;\n    });\n\n    this.renderer.listen(this.el.nativeElement, DRAG_START, data => {\n      this.dragStart(\n        data.detail.event,\n        data.detail.param.item,\n        data.detail.param.parentList\n      );\n    });\n\n    this.renderer.listen(this.el.nativeElement, EXPAND_COLLAPSE, data => {\n      this.disclosure.emit({\n        item: data.detail.item,\n        expanded: data.detail.item['$$expanded']\n      });\n    });\n  }\n\n  private _createDragClone(event, dragItem) {\n    this._mouseStart(event, dragItem);\n\n    if (!this._registerHandleDirective) {\n      this._mouse.offsetY = dragItem.nextElementSibling\n        ? dragItem.nextElementSibling.clientHeight / 2\n        : dragItem.clientHeight / 2;\n    }\n\n    // create drag clone\n    this.dragEl = document.createElement(this.options.listNodeName);\n    document.body.appendChild(this.dragEl);\n\n    this.renderer.addClass(this.dragEl, this.options.dragClass);\n\n    // add drag clone to body and set css\n    this.renderer.setStyle(\n      this.dragEl,\n      'left',\n      event.pageX - this._mouse.offsetX + PX\n    );\n    this.renderer.setStyle(\n      this.dragEl,\n      'top',\n      event.pageY - this._mouse.offsetY + PX\n    );\n    this.renderer.setStyle(this.dragEl, 'position', 'absolute');\n    this.renderer.setStyle(this.dragEl, 'z-index', 9999);\n    this.renderer.setStyle(this.dragEl, 'pointer-events', 'none');\n  }\n\n  private _createPlaceholder(event, dragItem) {\n    this._placeholder = document.createElement('div');\n    this._placeholder.classList.add(this.options.placeClass);\n    helper._insertAfter(this._placeholder, dragItem);\n    dragItem.parentNode.removeChild(dragItem);\n    this.dragEl.appendChild(dragItem);\n    this.dragRootEl = dragItem;\n  }\n\n  /**\n   * Sets depth proerties (relative and drag)\n   */\n  private _calculateDepth() {\n    // total depth of dragging item\n    let depth;\n    const items = this.dragEl.querySelectorAll(this.options.itemNodeName);\n    for (let i = 0; i < items.length; i++) {\n      depth = helper._getParents(items[i], this.dragEl).length;\n      if (depth > this.dragDepth) {\n        this.dragDepth = depth;\n      }\n    }\n\n    // depth relative to root\n    this.relativeDepth = helper._getParents(\n      this._placeholder,\n      this.el.nativeElement.querySelector(this.options.listNodeName)\n    ).length;\n  }\n\n  private _mouseStart(event, dragItem) {\n    this._mouse.offsetX = event.pageX - helper._offset(dragItem).left;\n    this._mouse.offsetY = event.pageY - helper._offset(dragItem).top;\n    this._mouse.startX = this._mouse.lastX = event.pageX;\n    this._mouse.startY = this._mouse.lastY = event.pageY;\n  }\n\n  private _mouseUpdate(event) {\n    // mouse position last events\n    this._mouse.lastX = this._mouse.nowX;\n    this._mouse.lastY = this._mouse.nowY;\n    // mouse position this events\n    this._mouse.nowX = event.pageX;\n    this._mouse.nowY = event.pageY;\n    // distance mouse moved between events\n    this._mouse.distX = this._mouse.nowX - this._mouse.lastX;\n    this._mouse.distY = this._mouse.nowY - this._mouse.lastY;\n    // direction mouse was moving\n    this._mouse.lastDirX = this._mouse.dirX;\n    this._mouse.lastDirY = this._mouse.dirY;\n    // direction mouse is now moving (on both axis)\n    this._mouse.dirX =\n      this._mouse.distX === 0 ? 0 : this._mouse.distX > 0 ? 1 : -1;\n    this._mouse.dirY =\n      this._mouse.distY === 0 ? 0 : this._mouse.distY > 0 ? 1 : -1;\n  }\n\n  private _showMasks() {\n    const masks = this.el.nativeElement.getElementsByClassName(\n      'nestable-item-mask'\n    );\n    for (let i = 0; i < masks.length; i++) {\n      masks[i].style.display = 'block';\n    }\n  }\n\n  private _hideMasks() {\n    const masks = this.el.nativeElement.getElementsByClassName(\n      'nestable-item-mask'\n    );\n    for (let i = 0; i < masks.length; i++) {\n      masks[i].style.display = 'none';\n    }\n  }\n\n  /**\n   * calc mouse traverse distance on axis\n   * @param m - mouse\n   */\n  private _calcMouseDistance(m) {\n    m.distAxX += Math.abs(m.distX);\n    if (m.dirX !== 0 && m.dirX !== m.lastDirX) {\n      m.distAxX = 0;\n    }\n\n    m.distAxY += Math.abs(m.distY);\n    if (m.dirY !== 0 && m.dirY !== m.lastDirY) {\n      m.distAxY = 0;\n    }\n  }\n\n  private _move(event) {\n    let depth, list;\n\n    const dragRect = this.dragEl.getBoundingClientRect();\n    this.renderer.setStyle(\n      this.dragEl,\n      'left',\n      event.pageX - this._mouse.offsetX + PX\n    );\n    this.renderer.setStyle(\n      this.dragEl,\n      'top',\n      event.pageY - this._mouse.offsetY + PX\n    );\n\n    this._mouseUpdate(event);\n\n    // axis mouse is now moving on\n    const newAx =\n      Math.abs(this._mouse.distX) > Math.abs(this._mouse.distY) ? 1 : 0;\n\n    // do nothing on first move\n    if (!this._mouse.moving) {\n      this._mouse.dirAx = newAx;\n      this._mouse.moving = 1;\n      return;\n    }\n\n    // calc distance moved on this axis (and direction)\n    if (this._mouse.dirAx !== newAx) {\n      this._mouse.distAxX = 0;\n      this._mouse.distAxY = 0;\n    } else {\n      this._calcMouseDistance(this._mouse);\n    }\n    this._mouse.dirAx = newAx;\n\n    // find list item under cursor\n    if (!hasPointerEvents) {\n      this.dragEl.style.visibility = 'hidden';\n    }\n\n    const pointEl = document.elementFromPoint(\n      event.pageX - document.body.scrollLeft,\n      event.pageY - (window.pageYOffset || document.documentElement.scrollTop)\n    );\n\n    if (!hasPointerEvents) {\n      this.dragEl.style.visibility = 'visible';\n    }\n\n    if (\n      pointEl &&\n      (pointEl.classList.contains('nestable-item-mask') ||\n        pointEl.classList.contains(this.options.placeClass))\n    ) {\n      this.pointEl = pointEl.parentElement.parentElement;\n    } else {\n      return;\n    }\n\n    /**\n     * move horizontal\n     */\n    if (\n      !this.options.fixedDepth &&\n      this._mouse.dirAx &&\n      this._mouse.distAxX >= this.options.threshold\n    ) {\n      // reset move distance on x-axis for new phase\n      this._mouse.distAxX = 0;\n      const previous = this._placeholder.previousElementSibling;\n\n      // increase horizontal level if previous sibling exists, is not collapsed, and can have children\n      if (this._mouse.distX > 0 && previous) {\n        list = previous.querySelectorAll(this.options.listNodeName);\n        list = list[list.length - 1];\n\n        // check if depth limit has reached\n        depth = helper._getParents(\n          this._placeholder,\n          this.el.nativeElement.querySelector(this.options.listNodeName)\n        ).length;\n\n        if (depth + this.dragDepth <= this.options.maxDepth) {\n          // create new sub-level if one doesn't exist\n          if (!list) {\n            list = document.createElement(this.options.listNodeName);\n            list.style.paddingLeft = this.options.threshold + PX;\n            list.appendChild(this._placeholder);\n            previous.appendChild(list);\n            // this.setParent(previous);\n          } else {\n            // else append to next level up\n            list = previous.querySelector(\n              `:scope > ${this.options.listNodeName}`\n            );\n            list.appendChild(this._placeholder);\n          }\n        }\n      }\n      // decrease horizontal level\n      if (this._mouse.distX < 0) {\n        // we can't decrease a level if an item preceeds the current one\n        const next = document.querySelector(\n          `.${this.options.placeClass} + ${this.options.itemNodeName}`\n        );\n        const parentElement = this._placeholder.parentElement;\n        if (!next && parentElement) {\n          const closestItem = helper._closest(\n            this._placeholder,\n            this.options.itemNodeName\n          );\n\n          if (closestItem) {\n            parentElement.removeChild(this._placeholder);\n            helper._insertAfter(this._placeholder, closestItem);\n          }\n        }\n      }\n    }\n\n    if (!pointEl.classList.contains('nestable-item-mask')) {\n      return;\n    }\n\n    // find root list of item under cursor\n    const pointElRoot = helper._closest(\n        this.pointEl,\n        `.${this.options.rootClass}`\n      ),\n      isNewRoot = pointElRoot\n        ? this.dragRootEl.dataset['nestable-id'] !==\n          pointElRoot.dataset['nestable-id']\n        : false;\n\n    /**\n     * move vertical\n     */\n    if (!this._mouse.dirAx || isNewRoot) {\n      // check if groups match if dragging over new root\n      if (\n        isNewRoot &&\n        this.options.group !== pointElRoot.dataset['nestable-group']\n      ) {\n        return;\n      }\n\n      // check depth limit\n      depth =\n        this.dragDepth -\n        1 +\n        helper._getParents(\n          this.pointEl,\n          this.el.nativeElement.querySelector(this.options.listNodeName)\n        ).length;\n\n      if (depth > this.options.maxDepth) {\n        return;\n      }\n\n      const before =\n        event.pageY <\n        helper._offset(this.pointEl).top + this.pointEl.clientHeight / 2;\n      const placeholderParent = this._placeholder.parentNode;\n\n      // get point element depth\n      let pointRelativeDepth;\n      pointRelativeDepth = helper._getParents(\n        this.pointEl,\n        this.el.nativeElement.querySelector(this.options.listNodeName)\n      ).length;\n\n      if (this.options.fixedDepth) {\n        if (pointRelativeDepth === this.relativeDepth - 1) {\n          const childList = this.pointEl.querySelector(\n            this.options.listNodeName\n          );\n          if (!childList.children.length) {\n            childList.appendChild(this._placeholder);\n          }\n        } else if (pointRelativeDepth === this.relativeDepth) {\n          if (before) {\n            this.pointEl.parentElement.insertBefore(\n              this._placeholder,\n              this.pointEl\n            );\n          } else {\n            helper._insertAfter(this._placeholder, this.pointEl);\n          }\n\n          if (\n            Array.prototype.indexOf.call(\n              this.pointEl.parentElement.children,\n              this.pointEl\n            ) ===\n            this.pointEl.parentElement.children.length - 1\n          ) {\n            helper._insertAfter(this._placeholder, this.pointEl);\n          }\n        }\n      } else if (before) {\n        this.pointEl.parentElement.insertBefore(\n          this._placeholder,\n          this.pointEl\n        );\n      } else {\n        helper._insertAfter(this._placeholder, this.pointEl);\n      }\n    }\n  }\n\n  public reset() {\n    const keys = Object.keys(this._mouse);\n    for (const key of keys) {\n      this._mouse[key] = 0;\n    }\n\n    this._itemId = 0;\n    this.moving = false;\n    this.dragEl = null;\n    this.dragRootEl = null;\n    this.dragDepth = 0;\n    this.relativeDepth = 0;\n    this.hasNewRoot = false;\n    this.pointEl = null;\n  }\n\n  public dragStartFromItem(event, item, parentList) {\n    if (!this._registerHandleDirective) {\n      this.dragStart(event, item, parentList);\n    }\n  }\n\n  private dragStart(event, item, parentList) {\n\n    this._oldListLength = this.list.length;\n\n    if (!this.options.disableDrag) {\n      event.stopPropagation();\n      event.preventDefault();\n\n      if (event.originalEvent) {\n        event = event.originalEvent;\n      }\n\n      // allow only first mouse button\n      if (event.type.indexOf('mouse') === 0) {\n        if (event.button !== 0) {\n          return;\n        }\n      } else {\n        if (event.touches.length !== 1) {\n          return;\n        }\n      }\n\n      this.ref.detach();\n      this._dragIndex = parentList.indexOf(item);\n      this.dragModel = parentList.splice(parentList.indexOf(item), 1)[0];\n\n      const dragItem = helper._closest(event.target, this.options.itemNodeName);\n      if (dragItem === null) {\n        return;\n      }\n      this._parentDragId = Number.parseInt(\n        dragItem.parentElement.parentElement.id\n      );\n\n      const dragRect = dragItem.getBoundingClientRect();\n\n      this._showMasks();\n      this._createDragClone(event, dragItem);\n      this.renderer.setStyle(this.dragEl, 'width', dragRect.width + PX);\n\n      this._createPlaceholder(event, dragItem);\n      this.renderer.setStyle(this._placeholder, 'height', dragRect.height + PX);\n\n      this._calculateDepth();\n      this.drag.emit({\n        originalEvent: event,\n        item\n      });\n\n      this._cancelMouseup = this.renderer.listen(\n        document,\n        'mouseup',\n        this.dragStop.bind(this)\n      );\n      this._cancelMousemove = this.renderer.listen(\n        document,\n        'mousemove',\n        this.dragMove.bind(this)\n      );\n    }\n  }\n\n  public dragStop(event) {\n    this._cancelMouseup();\n    this._cancelMousemove();\n    this._hideMasks();\n\n    if (this.dragEl) {\n      const draggedId = Number.parseInt(this.dragEl.firstElementChild.id);\n      let placeholderContainer = helper._closest(\n        this._placeholder,\n        this.options.itemNodeName\n      );\n\n      let changedElementPosition =\n        this._dragIndex !==\n        Array.prototype.indexOf.call(\n          this._placeholder.parentElement.children,\n          this._placeholder\n        );\n\n      const index = Array.prototype.indexOf.call(this._placeholder.parentElement.children, this._placeholder);\n\n      if ((this._dragIndex === index) && (this._oldListLength === this.list.length)) {\n        changedElementPosition = true;\n      }\n\n      // placeholder in root\n      if (placeholderContainer === null) {\n        this.list.splice(\n          Array.prototype.indexOf.call(\n            this._placeholder.parentElement.children,\n            this._placeholder\n          ),\n          0,\n          { ...this.dragModel }\n        );\n      } else {\n        // palceholder nested\n        placeholderContainer = helper._findObjectInTree(\n          this.list,\n          Number.parseInt(placeholderContainer.id)\n        );\n        if (!placeholderContainer.children) {\n          placeholderContainer.children = [];\n          placeholderContainer.children.push({ ...this.dragModel });\n        } else {\n          placeholderContainer.children.splice(\n            Array.prototype.indexOf.call(\n              this._placeholder.parentElement.children,\n              this._placeholder\n            ),\n            0,\n            { ...this.dragModel }\n          );\n        }\n        if (index === this._dragIndex) {\n          changedElementPosition = false;\n        }\n        if (!changedElementPosition) {\n          changedElementPosition =\n            placeholderContainer['$$id'] !== this._parentDragId;\n        }\n      }\n\n      this._placeholder.parentElement.removeChild(this._placeholder);\n      this.dragEl.parentNode.removeChild(this.dragEl);\n      this.dragEl.remove();\n      this.reset();\n\n      this.listChange.emit(this.list);\n      this.drop.emit({\n        originalEvent: event,\n        destination: placeholderContainer,\n        item: this.dragModel,\n        changedElementPosition\n      });\n      this.ref.reattach();\n    }\n  }\n\n  public dragMove(event) {\n    if (this.dragEl) {\n      event.preventDefault();\n\n      if (event.originalEvent) {\n        event = event.originalEvent;\n      }\n      this._move(event.type.indexOf('mouse') === 0 ? event : event.touches[0]);\n    }\n  }\n\n  public expandAll() {\n    helper._traverseChildren(this._list, item => {\n      item['$$expanded'] = true;\n    });\n    this.ref.markForCheck();\n  }\n\n  public collapseAll() {\n    helper._traverseChildren(this._list, item => {\n      item['$$expanded'] = false;\n    });\n    this.ref.markForCheck();\n  }\n}\n",
    "import { NestableSettings } from './nestable.models';\n\nexport const REGISTER_HANDLE = 'NESTABLE_DRAG_HANDLE_REGISTER';\nexport const DRAG_START = 'NESTABLE_DRAG_HANDLE_START';\nexport const EXPAND_COLLAPSE = 'NESTABLE_EXPAND_COLLAPSE_EVENT';\n\nexport const defaultSettings = {\n    listNodeName: 'ul',\n    itemNodeName: 'li',\n    rootClass: 'dd',\n    listClass: 'dd-list',\n    itemClass: 'dd-item',\n    dragClass: 'dd-dragel',\n    handleClass: 'dd-handle',\n    collapsedClass: 'dd-collapsed',\n    placeClass: 'dd-placeholder',\n    group: 0, // TODO\n    maxDepth: 5,\n    threshold: 20,\n    fixedDepth: false, // fixed item's depth\n    exportCollapsed: true, // TODO\n    disableDrag: false,\n} as NestableSettings;\n\nexport const mouse = {\n    moving: 0,\n    offsetX: 0,\n    offsetY: 0,\n    startX: 0,\n    startY: 0,\n    lastX: 0,\n    lastY: 0,\n    nowX: 0,\n    nowY: 0,\n    distX: 0,\n    distY: 0,\n    dirAx: 0,\n    dirX: 0,\n    dirY: 0,\n    lastDirX: 0,\n    lastDirY: 0,\n    distAxX: 0,\n    distAxY: 0\n};\n",
    "export const _traverseChildren = (tree, callback, parent = null) => {\n    for (let i = 0; i < tree.length; i++) {\n        const item = tree[i];\n        if (typeof item === 'undefined') { continue; }\n        const callbackResult = callback(item, parent);\n\n        if (callbackResult) { break; }\n\n        if (item.children) {\n            _traverseChildren(item.children, callback, item);\n        }\n    }\n};\n\nexport const _insertAfter = (newNode, referenceNode) => {\n    referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n};\n\nexport const _replace = (newNode, referenceNode) => {\n    referenceNode.parentNode.replaceChild(newNode, referenceNode);\n};\n\nexport const _replaceTargetWithElements = (target, elements) => {\n    let i = elements.length;\n\n    if (target.parentNode) {\n        while (i--) {\n            target.parentNode.insertBefore(elements[i], target);\n        }\n\n        /// remove the target.\n        target.parentNode.removeChild(target);\n    }\n};\n\nexport const _getParents = (el, parentSelector = document.body) => {\n\n    const parents = [];\n    let parentNode = el.parentNode;\n\n    while (parentNode !== parentSelector) {\n        const o = parentNode;\n        if (!parentNode) { break; }\n        if (parentNode.tagName === parentSelector.tagName) {\n            parents.push(o);\n        }\n        parentNode = o.parentNode;\n    }\n    parents.push(parentSelector); // Push that parentSelector you wanted to stop at\n\n    return parents;\n};\n\nexport const _closest = (el, selector) => {\n    let matchesFn;\n\n    // find vendor prefix\n    ['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'].some(function (fn) {\n        if (typeof document.body[fn] === 'function') {\n            matchesFn = fn;\n            return true;\n        }\n        return false;\n    });\n\n    let parent;\n\n    // traverse parents\n    while (el) {\n        parent = el.parentElement;\n        if (parent === null) { break; }\n        const matches = parent[matchesFn](selector);\n        if (parent && matches) { return parent; }\n        el = parent;\n    }\n\n    return null;\n};\n\nexport const _offset = (elem) => {\n    let box = { top: 0, left: 0 };\n\n    // BlackBerry 5, iOS 3 (original iPhone)\n    if (typeof elem.getBoundingClientRect !== undefined) {\n        box = elem.getBoundingClientRect();\n    }\n\n    return {\n        top: box.top + (window.pageYOffset || elem.scrollTop) - (elem.clientTop || 0),\n        left: box.left + (window.pageXOffset || elem.scrollLeft) - (elem.clientLeft || 0)\n    };\n};\n\nexport const _findObjectInTree = (array, id) => {\n    let result = null;\n\n    _traverseChildren(array, item => {\n        if (item['$$id'] === Number.parseInt(id)) {\n            result = item;\n            return true;\n        }\n    });\n\n    return result;\n};\n"
  ],
  "names": [
    "helper._traverseChildren",
    "helper._findObjectInTree",
    "helper._closest",
    "tslib_1.__values",
    "helper._insertAfter",
    "helper._getParents",
    "helper._offset"
  ],
  "mappings": "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"
}
